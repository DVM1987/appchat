# Báo cáo tiến độ dự án AppChat (Tính năng Group Chat)
Ngày: 16/02/2026 (Cập nhật lúc 16:30)

## 1. Trạng thái Backend (Docker)
- **Cải tiến**: Đã bổ sung API `DELETE /api/v1/conversations/{id}/participants/{participantId}` để xóa thành viên.
- **Tính năng mới**: 
    - Đã bổ sung hệ thống Invite Token cho Group.
    - Đã bổ sung API `POST /api/v1/conversations/{id}/leave` cho phép rời nhóm.
    - Đã bổ sung API `DELETE /api/v1/conversations/{id}` để giải tán nhóm (chỉ Admin).
- **SignalR**: 
    - Thông báo `ConversationUpdated` hiện bao gồm cả `InviteToken`.
    - Thêm sự kiện `ConversationDeleted` để thông báo khi nhóm bị giải tán.

## 2. Trạng thái Mobile (Flutter)
- **Quản lý thành viên**:
    - Thêm màn hình `GroupMembersScreen` hiển thị danh sách thành viên.
    - Admin có quyền xóa thành viên.
    - Thành viên thường có nút "Rời khỏi nhóm" trong màn hình danh sách thành viên.
    - Admin có nút "Giải tán nhóm" trong `GroupAdminDashboard`.
- **Real-time**:
    - Tự động đóng màn hình chat (`Navigator.pop`) khi bị xóa khỏi nhóm hoặc nhóm bị giải tán.
- **Mời vào nhóm**:
    - Thêm màn hình `GroupInviteScreen` hiển thị Liên kết mời (`appchat://join?token=...`) và Mã mời.
    - Hỗ trợ sao chép liên kết/mã vào Clipboard.
- **Tính năng @mention**:
    - **Cải thiện UI**: Danh sách gợi ý thành viên hiện có hiệu ứng Fade & Slide khi xuất hiện.
    - **Tương tác**: Nhấn vào tên được tag (@name) trong tin nhắn sẽ mở màn hình `ProfileScreen` của người đó.
- **Hồ sơ cá nhân**:
    - Cập nhật `ProfileScreen` hỗ trợ hiển thị profile của người khác (khi truyền `userId`).

## 3. Các việc cần làm tiếp theo
- [ ] Xử lý Deep Linking để tự động mở App và gia nhập nhóm khi nhấn vào link `appchat://join`.
- [ ] Bổ sung tính năng "Rời nhóm" cho thành viên (không phải Admin).
- [ ] Bổ sung tính năng "Giải tán nhóm" dành cho Admin.
- [ ] QR Code: Tích hợp thư viện `qr_flutter` để hiển thị mã QR thực tế trong màn hình mời.

**Lưu ý cho session sau**: Cần kiểm tra lại logic phân quyền (Admin vs Member) trên toàn bộ các màn hình liên quan đến Group để đảm bảo tính bảo mật.
